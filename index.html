<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mon Portfolio — Marius Vacqué</title>

  <!-- Police "Pinterest vibe" -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --line: rgba(255,255,255,.14);

      --nature: #7A9A92;
      --ocean: #4E6E8E;
      --sun: #F1C40F;
      --sand: #D2C9A2;

      --r: 22px;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --shadow2: 0 10px 28px rgba(0,0,0,.35);
      --max: 1180px;
    }

    *{ box-sizing: border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      font-family: "Manrope", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:
        radial-gradient(1200px 600px at 15% 0%, rgba(122,154,146,.18), transparent 55%),
        radial-gradient(900px 650px at 85% 0%, rgba(78,110,142,.18), transparent 55%),
        linear-gradient(180deg, #04070b, #071015 55%, #04070b);
      color: var(--text);
    }

    /* micro-grille (urbanisme) */
    body:before{
      content:"";
      position: fixed;
      inset: 0;
      pointer-events: none;
      background:
        linear-gradient(to right, rgba(255,255,255,.035) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.025) 1px, transparent 1px);
      background-size: 76px 76px;
      opacity: .10;
      mix-blend-mode: overlay;
    }

    .container{
      width: min(var(--max), calc(100% - 32px));
      margin: 0 auto;
    }

    /* =========================
       NAV (sticky)
       ========================= */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 50;
      background: rgba(0,0,0,.30);
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255,255,255,.10);
    }
    .topbarInner{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap: 10px;
      min-width: 240px;
    }
    .logo{
      width: 34px;
      height: 34px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background:
        radial-gradient(18px 18px at 30% 35%, rgba(241,196,15,.22), transparent 60%),
        radial-gradient(28px 28px at 70% 70%, rgba(122,154,146,.22), transparent 60%),
        rgba(255,255,255,.07);
      box-shadow: 0 12px 32px rgba(0,0,0,.45);
    }
    .brandTitle{
      line-height: 1.15;
    }
    .brandTitle strong{ font-size: 14px; letter-spacing:.2px; }

    nav.nav{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
      align-items:center;
    }
    nav.nav a{
      text-decoration:none;
      color: rgba(255,255,255,.90);
      font-size: 13px;
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
    }
    nav.nav a:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background: rgba(0,0,0,.30);
    }
    nav.nav a.active{
      border-color: rgba(122,154,146,.55);
      background: linear-gradient(90deg, rgba(122,154,146,.22), rgba(0,0,0,.20));
    }

    .cta{
      display:flex;
      gap: 10px;
      align-items:center;
      min-width: 240px;
      justify-content: flex-end;
    }
    .btn{
      cursor:pointer;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      color: rgba(255,255,255,.92);
      padding: 10px 12px;
      border-radius: 14px;
      font-size: 13px;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
      white-space: nowrap;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background: rgba(0,0,0,.30);
    }
    .btn.primary{
      border-color: rgba(241,196,15,.32);
      background: rgba(241,196,15,.12);
    }

    /* =========================
       HEADER VIDÉO (GRAND)
       ========================= */
    header.heroHeader{
      position: relative;
      height: clamp(420px, 68vh, 720px);
      overflow: hidden;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }

    /* ✅ PLUS LUMINEUX + plus “pro” */
    .heroVideo{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      object-fit: cover;
      object-position: center 40%;

      /* rendu plus lumineux / premium */
      filter:
        brightness(1.18)
        contrast(1.10)
        saturate(1.18);

      transform: scale(1.03);
      backface-visibility: hidden;
      will-change: transform;
    }

    /* ✅ OVERLAY moins sombre (mais garde la lisibilité) */
    .heroOverlay{
      position:absolute;
      inset:0;
      background:
        linear-gradient(
          180deg,
          rgba(0,0,0,.28),
          rgba(0,0,0,.12) 40%,
          rgba(0,0,0,.55)
        ),
        radial-gradient(1100px 520px at 15% 0%, rgba(122,154,146,.20), transparent 60%),
        radial-gradient(1100px 520px at 85% 0%, rgba(78,110,142,.20), transparent 60%);
      pointer-events:none;
    }

    /* ✅ grain ultra léger (Pinterest / Webflow vibe) */
    .heroHeader:after{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='1' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.028'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
    }

    /* =========================
       Titre global
       ========================= */
    .mastTitle{
      position: absolute;
      top: 18px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2;
      width: min(var(--max), calc(100% - 32px));
      text-align: center;
      pointer-events:none;
    }

    /* ✅ Titre plus impactant / premium */
    .mastTitle h1{
      margin: 0;
      font-size: clamp(34px, 4.6vw, 66px);
      font-weight: 800;
      letter-spacing: .6px;
      color: #ffffff;

      text-shadow:
        0 18px 70px rgba(0,0,0,.60),
        0 2px 12px rgba(0,0,0,.35);
    }

    /* =========================
       HERO CONTENT (sur la vidéo)
       ========================= */
    .heroContent{
      position: absolute;
      inset: 0;
      z-index: 2;
      display:flex;
      align-items:flex-end;
      padding-bottom: 34px;
    }

    .heroGrid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 16px;
      width: 100%;
    }

    /* ✅ cards un peu plus “glass” / premium */
    .heroCard{
      border-radius: 26px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.22);
      backdrop-filter: blur(16px);
      box-shadow: var(--shadow);
      padding: 18px;
    }

    .heroCard h2{
      margin: 0 0 10px;
      font-size: clamp(18px, 2vw, 24px);
      font-weight: 800;
      letter-spacing:.2px;
      color: rgba(255,255,255,.96);
    }
    .heroCard p{
      margin:0;
      color: rgba(255,255,255,.82);
      line-height: 1.75;
      font-size: 14px;
    }

    .sideCard h3{
      margin:0 0 10px;
      font-size: 14px;
      letter-spacing:.2px;
      color: rgba(255,255,255,.90);
    }
    .search{
      display:flex;
      gap: 10px;
      align-items:center;
    }
    .search input{
      width:100%;
      padding: 11px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      color: rgba(255,255,255,.92);
      outline:none;
    }

    /* =========================
       MAIN CONTENT (sections)
       ========================= */
    main{
      padding: 18px 0 80px;
    }

    section{
      border-radius: 26px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.12);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      box-shadow: 0 14px 40px rgba(0,0,0,.40);
      margin-top: 18px;
    }
    section header{
      padding: 16px 18px;
      background: rgba(0,0,0,.20);
      border-bottom: 1px solid rgba(255,255,255,.09);
      display:flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 12px;
    }
    section h2{
      margin:0;
      font-size: 16px;
      letter-spacing: .3px;
      text-transform: uppercase;
      font-weight: 800;
    }
    .kicker{
      color: rgba(255,255,255,.70);
      font-size: 12.5px;
    }

    .grid{
      padding: 18px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 12px;
    }

    .card{
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      overflow:hidden;
      transition: transform .14s ease, border-color .14s ease;
      box-shadow: var(--shadow2);
    }
    .card:hover{
      transform: translateY(-2px);
      border-color: rgba(255,255,255,.18);
    }
    .media{
      height: 165px;
      background:
        linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.65)),
        radial-gradient(700px 240px at 30% 10%, rgba(78,110,142,.22), transparent 60%),
        radial-gradient(700px 240px at 70% 10%, rgba(122,154,146,.20), transparent 60%);
      border-bottom: 1px solid rgba(255,255,255,.08);
      position: relative;
    }
    .media img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      filter: saturate(1.06) contrast(1.05);
      transform: scale(1.02);
    }
    .body{
      padding: 14px;
    }
    .body h3{
      margin:0 0 6px;
      font-size: 14px;
      letter-spacing:.2px;
      font-weight: 800;
    }
    .body p{
      margin:0;
      color: rgba(255,255,255,.68);
      font-size: 12.8px;
      line-height: 1.55;
    }
    .tags{
      display:flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }
    .tag{
      font-size: 11.5px;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: rgba(255,255,255,.78);
    }
    .tag.nature{ border-color: rgba(122,154,146,.30); }
    .tag.urban{ border-color: rgba(210,201,162,.22); }
    .tag.sun{ border-color: rgba(241,196,15,.30); }

    .loading{
      padding: 18px;
      color: rgba(255,255,255,.72);
      font-size: 13px;
    }

    @media (max-width: 1000px){
      .heroGrid{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
      .brand, .cta{ min-width: unset; }
      .mastTitle{ top: 12px; }
    }
    @media (max-width: 680px){
      .grid{ grid-template-columns: 1fr; }
      .topbarInner{ flex-wrap: wrap; }
      .cta{ width:100%; justify-content:flex-start; }
      nav.nav{ justify-content:flex-start; }
    }
  </style>
</head>

<body>

  <!-- NAV (sticky) -->
  <div class="topbar">
    <div class="container">
      <div class="topbarInner">
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div class="brandTitle">
            <strong>Marius Vacqué</strong>
          </div>
        </div>

        <nav class="nav" id="nav">
          <a href="#apropos" data-target="apropos">À propos</a>
          <a href="#projets" data-target="projets">Projets</a>
          <a href="#vie-associative" data-target="vie-associative">Vie associative</a>
          <a href="#contact" data-target="contact">Contact</a>
        </nav>

        <div class="cta">
          <button class="btn" id="toTop">↑ Haut</button>
          <a class="btn primary" href="#contact">Me contacter</a>
        </div>
      </div>
    </div>
  </div>

  <!-- HEADER VIDÉO (GRAND) -->
  <header class="heroHeader">
    <video class="heroVideo" autoplay muted loop playsinline preload="metadata">
      <source src="595863_Drone_Landscape_Nature_1280x720.mp4" type="video/mp4">
    </video>
    <div class="heroOverlay"></div>

    <!-- Grand titre -->
    <div class="mastTitle">
      <h1>Mon Portfolio</h1>
    </div>

    <div class="heroContent">
      <div class="container">
        <div class="heroGrid">
          <!-- Bloc de texte -->
          <div class="heroCard">
            <h2>Bonjour et bienvenue sur mon portfolio.</h2>
            <p>
              Je vous invite à le parcourir avec plaisir afin de découvrir mes projets, mes expériences et mon univers.<br><br>
              À travers ces réalisations, vous pourrez mieux comprendre mon parcours, mes centres d’intérêt et ma manière
              d’aborder les territoires et leurs enjeux.<br><br>
              <strong>Bonne visite !</strong>
            </p>
          </div>

          <!-- Recherche rapide (on ne retire rien, on garde juste le bloc simple) -->
          <div class="heroCard sideCard">
            <h3>Recherche rapide</h3>
            <div class="search">
              <input id="search" type="search" placeholder="ex: carto, diagnostic, mobilité, concertation…" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- SECTIONS (chargées depuis components/) -->
  <main class="container">
    <div id="content">
      <div class="loading">Chargement des sections…</div>
    </div>
  </main>

  <script>
    // Components à charger
    const COMPONENTS = [
      { id: "apropos", file: "components/apropos.html" },
      { id: "projets", file: "components/projet.html" },
      { id: "vie-associative", file: "components/vie-associative.html" },
      { id: "contact", file: "components/contact.html" }
    ];

    const contentEl = document.getElementById("content");
    const navEl = document.getElementById("nav");
    const searchEl = document.getElementById("search");

    function setActiveNav(sectionId){
      const links = navEl.querySelectorAll("a[data-target]");
      links.forEach(a => a.classList.toggle("active", a.dataset.target === sectionId));
    }

    function initNav(){
      navEl.addEventListener("click", (e) => {
        const a = e.target.closest("a[data-target]");
        if(!a) return;
        const id = a.dataset.target;
        const target = document.getElementById(id);
        if(target){
          e.preventDefault();
          target.scrollIntoView({ behavior: "smooth", block: "start" });
          history.replaceState(null, "", "#" + id);
          setActiveNav(id);
        }
      });
    }

    function initScrollSpy(){
      const sections = Array.from(document.querySelectorAll("section[data-section]"));
      const io = new IntersectionObserver((entries) => {
        const visible = entries.filter(e => e.isIntersecting)
          .sort((a,b) => b.intersectionRatio - a.intersectionRatio)[0];
        if(visible) setActiveNav(visible.target.id);
      }, { threshold: [0.25, 0.45, 0.65] });
      sections.forEach(s => io.observe(s));
    }

    function initSearch(){
      if(!searchEl) return;
      searchEl.addEventListener("input", () => {
        const q = searchEl.value.trim().toLowerCase();
        const cards = document.querySelectorAll("[data-filter-card]");
        cards.forEach(card => {
          const hay = (card.getAttribute("data-filter") || "").toLowerCase();
          card.style.display = (!q || hay.includes(q)) ? "" : "none";
        });
      });
    }

    function initToTop(){
      document.getElementById("toTop").addEventListener("click", () => {
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    }

    async function loadComponents(){
      const htmlParts = await Promise.all(
        COMPONENTS.map(async (c) => {
          try{
            const res = await fetch(c.file, { cache: "no-store" });
            if(!res.ok) throw new Error("HTTP " + res.status);
            return await res.text();
          } catch(err){
            return `
              <section id="${c.id}" data-section>
                <header>
                  <h2>Erreur</h2>
                  <div class="kicker">Impossible de charger ${c.file}</div>
                </header>
                <div class="grid">
                  <div class="card" data-filter-card data-filter="erreur fetch components">
                    <div class="body">
                      <h3>Fetch bloqué</h3>
                      <p>Lance via Live Server / python -m http.server, et vérifie le dossier /components.</p>
                      <div class="tags">
                        <span class="tag sun">fetch()</span>
                        <span class="tag urban">components</span>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            `;
          }
        })
      );

      contentEl.innerHTML = htmlParts.join("\n");
    }

    (async function(){
      await loadComponents();
      initNav();
      initScrollSpy();
      initSearch();
      initToTop();

      const hash = (location.hash || "").replace("#", "");
      if(hash){
        const t = document.getElementById(hash);
        if(t) t.scrollIntoView({ behavior: "smooth", block: "start" });
        setActiveNav(hash);
      } else {
        setActiveNav("apropos");
      }
    })();
  </script>
</body>
</html>
